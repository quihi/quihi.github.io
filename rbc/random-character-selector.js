
// rbc_chars is a base list that works well alone. It is mostly the exchange tagset and overlaps with the next two lists
const rbc_chars = ["Adrian Pucey", "Adriana \"Addy\" Potter", "Alastor \"Mad-Eye\" Moody", "Albus Dumbledore", "Aldon Rosier", "Aled Flint", "Alesana Selwyn", "Animator Twins", "Antiope | Aileen Ross", "Aragog", "Arcturus \"Archie\" Black", "Augusta Longbottom", "Baby Qilin", "Basilisk", "Bellatrix Black Lestrange", "Bill \"Will\" Weasley", "Binny", "Blaise Zabini", "Caelum Lestrange", "Cedric Diggory", "Cho Chang", "Cora", "Count Aurel", "Countess Maricara", "Daphne Greengrass", "Diana Black", "Diary Voldemort (\"Voldiary\")", "Dobby", "The Dominion Jewel | Dom", "Draco Malfoy", "Edgar Krait", "Edgar Whitaker", "Edmund Rookwood", "Eleni Hurst", "Eric Albright", "Fawkes", "Fearless Frank", "Feiyan Shang", "Filius Flitwick", "Fleur Delacour", "Fred Weasley", "Gabrielle Delacour", "Gavril", "George Filmont", "George Weasley", "Giant Squid", "Ginny Weasley", "Goldflame", "Greystrike", "Griselda Marchbanks", "Hannah Abbott", "Harriett Potter | Rigel Black", "Hermione Granger", "Hogwarts", "Irina", "Jacob Owens", "James Potter", "John Dawlish", "Kasten", "Lee Jordan", "Leo Hurst", "Lily Evans Potter", "Lower Alleys Kids", "Lucius Malfoy", "Luna Lovegood", "Malcolm Hurst", "Marcus Flint", "Marek", "Margo", "Master Thompson", "Matheus Sousa", "Merriam Flint", "Millicent Bulstrode", "Minerva McGonagall", "Molly Weasley", "Monica Granger", "Mr. Frein", "Narcissa Black Malfoy", "Neville Longbottom", "Newt Scamander", "Nymphadora Tonks", "Pansy Parkinson", "Percy Weasley", "Peter Pettigrew", "Poppy Pomfrey", "Rabid Ralph", "Regulus Black", "Remus Lupin", "Rispah Cooper", "The Rod of Zuriel", "Ron Weasley", "Rubeus Hagrid", "Severus Snape", "Silo", "Sirius Black", "Solom", "Sorting Hat", "Tahiil Diric Zahi", "Theodore Nott", "Tiberius Ogden", "Tom Marvolo Riddle", "Tracey Davis", "Treeslider", "The Unspeakables", "Viktor Krum", "Wendell Granger"];
// revarc_chars is a base list that works well alone
const revarc_chars = ["Adriana \"Addy\" Potter", "Alastor \"Mad-Eye\" Moody", "Albus Dumbledore", "Aldon Rosier", "Alesana Selwyn", "Alex Willoughby", "Alexander Chang Weasley", "Alice Eve Rosier", "Aman Kaur", "Amelia Bones", "Angelina Johnston", "Annabelle Crestley-Kowalski", "Arcturus \"Archie\" Black", "Armand Abbott", "Assaf Kowalski-Riemann", "Audrey Smith", "Baird Queenscove", "Bellatrix Black Lestrange", "Benjamin Levstein", "Benoit Aubin", "Bianca (dhampir)", "Bill \"Will\" Weasley", "Blaise Zabini", "Butler (Queenscove house-elf)", "Caelum Lestrange", "Cedric Diggory", "Cedric Draco Rosier", "Cho Chang", "Christian (shifter)", "Christina Blake", "Conal Mindelan", "Daine Sarrasri", "Alokpreet Singh", "Derrick Holden", "Diana Black", "Diary Voldemort (\"Voldiary\")", "Domitan Masbolle", "Draco Malfoy", "Edmund Blake Rosier", "Edmund Rookwood", "Eleni Hurst", "Elizabeth Bones", "Elodie Pepin Vasilova", "Eric Albright", "Esmond Nicoline", "Evan Rosier", "Evin Larse", "Fabian Prewett", "Faleron King", "Fei Long Lin", "Francesca Lam", "Fred Weasley", "Geoffrey Baker", "George Weasley", "Ginny Weasley", "Grace Cheung", "Graeme Queenscove", "Gregor Aleksandrovich Lin", "Hannah Abbott", "Harriett Potter | Rigel Black", "Hermione Granger", "Isaac Chiu", "Isran Ali", "Jackson Lam", "Jacob Kowalski", "James Potter", "Jean-Paul (McGill student)", "Jessa Queenscove", "Jessica Calderon-Boot", "Jessica Wilson", "John Kowalski", "Julia (shifter)", "Justice (Revolutionary Arc)", "Keladry Mindelan", "Leo Hurst", "Lily Evans Potter", "Lina Avery | Eveline Rosier", "Marcus Flint", "Marija Aleksandrovna Lin", "Merric Hollyrose", "Mikael Kowalski", "Millicent Bulstrode", "Minerva McGonagall | Lady Ross", "Molly Weasley", "Mr. Granger", "Mrs. Granger", "Narcissa Black Malfoy", "Neal Queenscove", "Neville Longbottom", "Nymphadora Tonks", "Owen Jesslaw", "Pansy Parkinson", "Patricia Ryan", "Penelope Clearwater", "Percy Weasley", "Phillip Newman", "Phryne (cinema employee)", "Queenie Goldstein", "Queenscove Castle", "Quinn Cameron", "Regulus Black", "Remus Lupin", "Rolf Scamander", "Ron Weasley", "Rose Parkinson", "Saoirse Riordan", "Sean Docherty", "Seaver Tasride", "Severus Snape", "Sidney Foster", "Sirius Black", "Song Mei Ling", "Sophie Legrand", "Susan Bones", "Tatiana Aleksandrovna Lin", "Thea McKinnon", "Theodore Nott", "Thomas Landry", "Tina Goldstein", "Tina Kowalski", "Toby MacLean", "Tom Marvolo Riddle", "Ulysses Todmorden", "Will Queenscove", "Yukimi Daiomaru", "Étienne Ducharme"];
// more_revarc_chars only contains characters that are mentioned in rev arc very briefly
const more_revarc_chars = ["Acimović (dhampir)", "Adams Hicks", "Adrian Pucey", "Ahmed Shafiq", "Akari Yamaguchi", "Alanna Trebond", "Albert (Francesca's cousin)", "Albert McEvoy", "Alberto (AIM student)", "Aled Flint", "Ali Shafiq?", "Alison Doucette", "Allan Yorke", "Allison Hendry", "Allison McAllister", "Amel Djelloul", "Andrea Bressan", "Andrew Boyd", "Andrew Kirke", "Andromeda Tonks", "Animator Twins", "Anja Bauer", "Aoife Quinn", "Arjun Gupta", "Astoria Greengrass", "Augusta Longbottom", "Aurel Phillips", "Auror Goldfinch", "Aydin Ozturk", "Barty Crouch", "Barzha (Stormwing)", "Basilisk", "Belden Rosier", "Benjamin Rourke", "Benjamin Wates", "Bernard (Bones?)", "Bertrand Belanger", "Bertrand Bouchard", "Binny (Hogwarts house-elf)", "Burgess Travers", "Carrillo (Patagonia student)", "Cassandra Wilson", "Catherine Kelly", "Celia Smith", "Charity Beauchamps", "Charlie Weasley", "Chris Marcotte", "Christian Albright", "Cleon Kennan", "Cliff Burton", "Connor (Cascadia student)", "Corban Yaxley", "Cormac McLaggen", "Cpt. Donaldson", "Crosby (Ilvermorny student)", "Daniel Reid", "Daphne Greengrass", "Darren Corner", "David Goldfarb", "Dawlish", "Deborah Harkness", "DeLuca", "Dilini", "Ditty (Queenscove house-elf)", "Dobby", "Dorian Prewett", "Dotty (Rosier house-elf)", "Druella Rosier", "Eamon Haverty", "Edgar Krait", "Edgar Whitaker", "Ella Trenton", "Emily Deschamps", "Enrico (dhampir)", "Eric Walker", "Erin Stark", "Esteban (publicist)", "Fawkes", "Filius Flitwick", "Fleur Delacour", "Francis (AIM student)", "Frank Longbottom", "Gail Stephens", "Gareth", "Geoffrey Summerby", "Gergely (Ilvermorny student)", "Gerhardt Riemann", "Gerry Curtis", "Giant Squid", "Gideon Prewett", "Great-Aunt Leta Lestrange", "Gregor Poliakoff", "Griselda Marchbanks", "Gutierrez (Patagonia student)", "Hailey Smithers", "Headmaster Karkaroff", "Healer Abbott", "Healer Ross", "Heather Taylor", "Hebakh (Stormwing)", "Henry (Francesca's cousin)", "Henry Nott", "Hogwarts", "Huda (AIM student)", "Héloise Nguyen", "Ilya Bryliov", "Isaac Abernathy", "Isabelle Aucoin", "James Elcombe", "Jan Zajac", "Jane Dalmore", "Jason Reed", "Javier Esposito", "Jelena Acimović", "Jelena Kovic", "Jennifer Abernathy", "Jennifer Corcoran", "Jeremy (AIM student)", "Jeremy (Ilvermorny student)", "Jerome (McGill student)", "Jilek (AIM student)", "John Dawlish", "Jones (AIM student)", "Juan Hernandez", "Jukka Savinainen", "Katherine Wright", "Kathleen (shifter)", "Katie Bell", "Katie McTaggert", "Kenneth Grayson", "Kingsley Shacklebolt", "Kowsheek (McGill student)", "Lady McAllister", "Lady McKinnon", "Lady Zabini", "Laird Boyd", "Laird Cameron", "Laird MacLaggen", "Laird MacLeod", "Laird MacMillan", "Laura Salazar", "Lawson (Ilvermorny student)", "Lee Jordan", "Li Xiao Lang", "Lily (Francesca's cousin)", "Lily Cho", "Lord Naxen", "Lord Nond", "Lord Parkinson", "Lord Shafiq", "Lower Alleys Kids", "Lucie (shifter)", "Lucille (AIM student)", "Lucius Malfoy", "Ludo Bagman", "Luke Abbott", "Malcolm Hurst", "Mann (AIM student)", "Manon Bouvier", "Marek (Lower Alleys)", "Mariana Jimenez", "Marie-Pier (dhampir)", "Mario Lopez", "Mark (shifter)", "Marshall Wagner", "Martha (law clerk)", "Martin Haworth", "Mary Docherty", "Master Montmorency", "Master Phillips (Blake and Associates)", "Master Purdue", "Master Rutherage", "Master Thompson", "Matthias (dhampir?)", "Matthias White", "Megan Jones", "Michael Phipps", "Michelle (AIM student)", "Mimi Singh", "Miri Fraser", "Miriam Rosenthal", "Mistress Vector", "Mr. Blotts", "Mr. Frein", "Mrs. Chang", "Ms. Malik", "Mulciber", "Nadia Zaman", "Nancy Herrington", "Nasir Shafiq?", "Natalie Fairburne", "Newt Scamander", "Noah (shifter)", "Noelle Svenson", "Numair Salmalín", "Octa (Queenscove house-elf)", "Olga Zelinsky", "Owen Thomas", "Pei Liu", "Peter Pettigrew", "Philip Bulstrode", "Phillip (Lower Alleys)", "Poppy Pomfrey", "Priscilla Carmichael", "Professor Barron", "Professor Estevez", "Professor Fleming", "Professor Li", "Professor McLeod", "Professor Tallum", "Professor Willoweed", "Ranjan Agarwal", "Raoul Goldenlake", "Renaldo Casillas", "Richard Goldstein", "Rikash Moonsword", "Rispah Cooper", "Rob (McGill student)", "Robert Harper", "Robert McCormick", "Rodolphus Lestrange", "Rolly (Rosier house-elf)", "Rosalie Silberman", "Ru (Ilvermorny student)", "Rubeus Hagrid", "Ryu Takahashi", "Sabrina James", "Sakura Queenscove", "Samuel Foster", "Shaheen Shafiq", "Solom (Lower Alleys)", "Sorting Hat", "Stefan Basciano", "Stephen Abbott", "Steven Buol", "Tamsin Appleby", "Tavares (Ilvermorny student)", "Terence Dehaney", "The Unspeakables", "Thomas Franklin", "Thomas Graves", "Thomas Ollivander", "Tiberius Ogden", "Tracey Davis", "Trevor (shifter)", "Tyler (McGill student)", "Tyler Cote", "Tyler Jackson", "Ummi (Rosier house-elf)", "Valerie Foster", "Viktor Krum", "Vuorinen (AIM student)", "Wojnarski (Ilvermorny student)", "Wu Ji Bai", "Xenophilius Lovegood", "Yeganeh (AIM student)", "Yvette Courbiere", "Zahir ibn Alhaz", "Zainab Bangura"];
// recursive_revarc_chars contains characters original to recursive rev arc fic
const recursive_revarc_chars = ["Ahuda (Dpmb)", "Alaina Lemieux", "Allan Thurston", "Ambassador Fortin (Dpmb)", "Ambassador Samake (Dpmb)", "Ambassador Sokolov (Dpmb)", "Ambassador Suarez (Dpmb)", "Ambassador Xi (Dpmb)", "Amelie (Collège student)", "Andre (Dpmb)", "Andre Davis", "Barnaby (cat) (Dpmb)", "Becky (Dpmb)", "Big Fisher (Dpmb)", "Brendan Stewart (Ilvermorny headmaster)", "Brian (Dpmb)", "Buri Tourakom", "Byrne (Dpmb)", "Carter (Dpmb)", "Catalina Amozoc (Escuela Maya headmaster)", "Catherine (AIM faculty)", "Catherine (Dpmb)", "Clary (Dpmb)", "Colin (Dpmb)", "Compassion (Dpmb)", "Daniel (Dpmb)", "Delalande (Collège student)", "Edward Perkins", "Elijah Adisa (AIM faculty)", "Emma (Mikael's secretary)", "Gemma Beckett", "Geneviève (Collège faculty)", "Gerda von Dietrich Riemann (Dpmb)", "Headmaster Harris (former AIM faculty)", "Henri Aucoin (Collège student)", "Henri Bertrand (Collège headmaster)", "Henri Poulin (Collège student)", "Independence (Dpmb)", "Isabelle (Collège student)", "Isaiah Walker (AIM faculty)", "Jacqueline Tremblay (Collège student)", "Jacques Aucoin (Collège student)", "James (Collège student)", "Jason (Dpmb)", "Jasson (Dpmb)", "Jeremiah Smith (AIM faculty)", "Jewel (Dpmb)", "Julien Ammann", "Justin (DMLE) (Dpmb)", "Kelly (Dpmb)", "Kora (Dpmb)", "Lianne (Dpmb)", "Lil Fisher (Dpmb)", "Lorena Serrano (AIM faculty)", "Luca Krieger", "Mal (Dpmb)", "Manon (Collège student)", "Marie-Clare (Collège student)", "Mathieu Doucette (Collège student)", "Matthias (Dpmb)", "Michel Bouchard (Collège student)", "Miller (Dpmb)", "Miriam Herrera", "Mirya Ameur (AIM faculty)", "Nikoloz Esadze (Dpmb)", "Omer Berhan (Cascadia headmaster)", "Owlthello the Third (Dpmb)", "Peter (Dpmb)", "Premier Liu (Dpmb)", "President Calderon-Boot (Dpmb)", "Professor Alain (Collège student)", "Professor Lemieux (Collège student)", "Professor Simmons (Dpmb)", "Professor Teklu (Dpmb)", "Professor Torres (Dpmb)", "Rebakah (Dpmb)", "Robert Lopez (Dpmb)", "Rossi (Dpmb)", "Ryan (DMLE) (Dpmb)", "Sarah Crinion", "Schott (Dpmb)", "Secretary Graves (Dpmb)", "Secretary Lopez (Mikael's predecessor)", "Seraphina Picquery the Second", "Speaker Williams (Dpmb)", "Theresa \"Tess\" Lee-Johnson (Dpmb)", "Theseus Scamander", "Thomas (Collège student)", "Tolerance (Dpmb)", "Ulrich Riemann (Dpmb)", "Verene (Dpmb)", "Victoria (Collège student)", "Vivian Lee", "Westover Ersken (Dpmb)", "William Orlando Darby", "William Raymond Graves", "Yoav (Dpmb)", "Yves (Collège student)"];
// other_chars includes characters from recursive fic unrelated to rev arc
const other_chars = ["Lorraine (all that glitters is not gold)", "Anastasia \"Asya\" Drozdova (Black and Blue and Who Knows Which Is Which and Who Is Who?)", "Alicia Spinnet", "Dudley Dursley", "Elliot Bell (TBoBM)", "Franklin Bell (TBoBM)", "Gilbert Bell (TBoBM)", "Helena Bell (TBoBM)", "Katie Bell", "Leanne Lock (TBoBM)", "Nilsy (TBoBM)", "Oliver Wood"];

var current_set = new Set();
var current_list = [];

/*
    <input id="rbc-check"> RBC Characters
    <input id="main-revarc-check"> Major Rev Arc Characters
    <input id="more-revarc-check"> Minor Rev Arc Characters
    <input id="rec-revarc-check"> Recursive Rev Arc Characters
    <input id="recursive-check"> Other Recursive Characters
*/

const map_of_lists = new Map();
map_of_lists.set('rbc-check', rbc_chars);
map_of_lists.set('main-revarc-check', revarc_chars);
map_of_lists.set('more-revarc-check', more_revarc_chars);
// map_of_lists.set('rec-revarc-check', recursive_revarc_chars);
map_of_lists.set('recursive-check', other_chars);

var refresh_page = true;


function update_set(checkbox) {
    if (checkbox.checked && !refresh_page) {
        for (const elem of map_of_lists.get(checkbox.id)) {
            current_set.add(elem);
        }
    }
    else {
        current_set.clear();
        for (const elem of map_of_lists.keys()) {
            var box = document.getElementById(elem);
            if (box.checked) {
                for (const elem2 of map_of_lists.get(box.id)) {
                    console.log(elem2);
                    current_set.add(elem2);
                }
            }
        }
        refresh_page = false;
    }
    current_list = [];
    for (const elem of current_set) {
        current_list.push(elem);
    }
}


function pick() {
    if (refresh_page) {
        update_set(document.getElementById('rbc-check'));
    }
    if (current_list.length == 0) {
        document.getElementById("chosen-character").innerHTML = "Please select at least one set of characters";
    }
    else {
        var index = Math.floor(Math.random() * current_list.length);
        document.getElementById("chosen-character").innerHTML = current_list[index];
    }
}
